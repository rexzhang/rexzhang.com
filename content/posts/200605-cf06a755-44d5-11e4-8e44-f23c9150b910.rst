
使用robotstxt和gsitemap模块简化Google Sitemaps提交
##################################################################################


:author: rex
:date: 2006-05-19T15:39:00+08:00
:modified: 2006-05-19T15:39:00+08:00
:status: published
:category: 运维
:tags: Drupal, Google


<p><a href="http://drupal.org/project/robotstxt" target="_blank">robotstxt</a>是一个辅助生成 <a href="http://YourDrupalRoot/robots.txt">http://YourDrupalRoot/robots.txt</a> 文件的模块.而robots.txt是可以帮助站长告知网络蜘蛛(搜索引擎的机器人)那些目录不要被收录,而那些希望被收录的咚咚.详细可以见<a href="http://www.robotstxt.org/wc/robots.html">robotstxt.org</a> .</p> <p><a href="http://drupal.org/project/gsitemap" target="_blank">gsitemap</a>是一个辅助Drupal站长提交<a href="http://www.google.com/webmasters/sitemap" target="_blank">Google Sitemaps</a>的模块.其可以工作在两种不同的模式.</p> <ol> <li>配合Sitemaps账号的设置,提供Sitemap.xml文件</li> <li>没有Sitemaps账号的情况下主动提交Sitemap.xml文件(我不知道这样是否有效,只是在WatchDog中看到主动提交成功,因我有Sitemaps账号所以也没有深究)</li> </ol> <p>在安装上以上2个模块后：</p> <p>第一步、先配置robotstxt模块,其默认的配置如下</p> <p><code>User-agent: * <br /> Disallow: /node/ <br /> Disallow: /database/ <br /> Disallow: /includes/ <br /> Disallow: /misc/ <br /> Disallow: /modules/ <br /> Disallow: /sites/ <br /> Disallow: /themes/ <br /> Disallow: /admin/</code></p> <p>需要注意的是需要将</p> <p><code>Disallow: /node/</code></p> <p>这一行去掉,<strong>node</strong>可是Drupal的基本页面单元。</p> <p>可以使用浏览器访问地址 <a href="http://YourDrupalRoot/robots.txt">http://YourDrupalRoot/robots.txt</a> 来检查。如果看到以上的配置文本即配置成功。</p> <p>第二步、确认sitemap.xml地址</p> <p>gsitemap默认生成的地址是 <a href="http://YourDrupalRoot/gsitemap">http://YourDrupalRoot/gsitemap</a>。而Google Sitemaps对非.xml结尾的地址似乎有问题。总是提示找不到。</p> <p>解决方法就是使用Drupal系统自带的path(url_alias/Url别名)模块设置一个<span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong>gsitemap.xml</strong></span></span></span></strong></span></span></span></strong></span></span></span></strong></span></span>到 <span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><span style="TEXT-DECORATION: underline;"><strong>gsitemap</strong></span></span></span></strong></span></span>的别名。</p> <p>第三步A、配置gsitemap模块主动提交</p> <p>方法很简单:只需要在模块配置中的<strong>Other Settings</strong>中勾选上有<strong>Submit sitemap to Google</strong>的两项即可。</p> <p>到底有效与否不知道 ;-P</p> <p>第三步B、配置gsitemap模块适应Sitemaps账号</p> <ol> <li>在Google Sitemaps的Sitemaps地址一栏填写：<a href="http://YourDrupalRoot/gsitemap.xml">http://YourDrupalRoot/gsitemap.xml</a></li> <li>选<strong>使用上传文件的方式</strong>验证网站</li> <li>复制下给出的文件名，将这个文件名粘贴到模块设置<strong>Other Settings</strong>中的<strong>Verification link</strong></li> </ol> <p>剩下的就是等待迎接Google的蜘蛛人。;-) <br /></p>
